---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/consts.ts
  - src/constants.ts
  - src/components/NewsletterForm.astro
autonomous: true

must_haves:
  truths:
    - "Site config references justcarlson.com and Just Carlson author"
    - "Social links point to justcarlson GitHub and LinkedIn"
    - "Newsletter form no longer submits to Peter's Buttondown"
  artifacts:
    - path: "src/consts.ts"
      provides: "Site configuration with Just Carlson identity"
      contains: "justcarlson.com"
    - path: "src/constants.ts"
      provides: "Social links array"
      contains: "github.com/justcarlson"
    - path: "src/components/NewsletterForm.astro"
      provides: "Newsletter form without hardcoded Buttondown URL"
      pattern: "NEWSLETTER_URL|disabled|placeholder"
  key_links:
    - from: "src/constants.ts"
      to: "src/consts.ts"
      via: "SITE import"
      pattern: "import.*SITE.*from.*consts"
---

<objective>
Update site configuration files with Just Carlson identity

Purpose: Replace all Peter Steinberger identity references in config files with Just Carlson branding. This is the foundation for the rebrand — everything else (components, meta tags, etc.) reads from these config files.

Output: Updated config files with correct author, URLs, social links, and newsletter form ready for future configuration.
</objective>

<execution_context>
@/home/jc/.claude/get-shit-done/workflows/execute-plan.md
@/home/jc/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-RESEARCH.md
@src/consts.ts
@src/constants.ts
@src/components/NewsletterForm.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update site configuration in consts.ts</name>
  <files>src/consts.ts</files>
  <action>
Update the SITE object with Just Carlson identity:

```typescript
export const SITE: Site = {
  website: "https://justcarlson.com/",
  author: "Just Carlson",
  profile: "https://justcarlson.com/about",
  desc: "Writing about things I find interesting.",  // Casual tone per CONTEXT.md
  title: "Just Carlson",
  ogImage: "og.png",  // Keep existing, will be regenerated later
  lightAndDarkMode: true,
  postPerIndex: 10,
  postPerPage: 10,
  scheduledPostMargin: 15 * 60 * 1000,
  showArchives: false,
  showBackButton: false,
  editPost: {
    enabled: true,
    text: "Edit on GitHub",
    url: "https://github.com/justcarlson/justcarlson.com/edit/main/",
  },
  dynamicOgImage: true,
  lang: "en",
  timezone: "America/Los_Angeles",
};
```

Update SOCIAL_LINKS array:

```typescript
export const SOCIAL_LINKS: SocialLink[] = [
  {
    href: "https://github.com/justcarlson",
    label: "GitHub",
  },
  {
    href: "https://www.linkedin.com/in/justincarlson0/",
    label: "LinkedIn",
  },
  {
    href: "/rss.xml",
    label: "RSS",
  },
];
```

Update ICON_MAP to only include used icons:

```typescript
export const ICON_MAP: Record<string, string> = {
  GitHub: "github",
  LinkedIn: "linkedin",
  RSS: "rss",
};
```

Remove Twitter and BlueSky since user doesn't use those platforms.
  </action>
  <verify>
Run: `grep -E "justcarlson|Just Carlson" src/consts.ts` - should show multiple matches
Run: `grep -E "steipete|peter|steinberger" src/consts.ts` - should return nothing
  </verify>
  <done>SITE.website is justcarlson.com, SITE.author is Just Carlson, editPost.url points to justcarlson repo, SOCIAL_LINKS contains GitHub and LinkedIn only</done>
</task>

<task type="auto">
  <name>Task 2: Update social links in constants.ts</name>
  <files>src/constants.ts</files>
  <action>
Update the SOCIALS array with Just Carlson's accounts. Keep only GitHub and LinkedIn (active: true), remove X, BlueSky, and Mail entries:

```typescript
import { SITE } from "./consts";

export const SOCIALS = [
  {
    name: "Github",
    href: "https://github.com/justcarlson",
    linkTitle: `${SITE.title} on Github`,
    icon: "github",
    active: true,
  },
  {
    name: "LinkedIn",
    href: "https://www.linkedin.com/in/justincarlson0/",
    linkTitle: `${SITE.title} on LinkedIn`,
    icon: "linkedin",
    active: true,
  },
] as const;
```

Keep SHARE_LINKS unchanged — these are generic share intents that don't reference Peter. They allow readers to share posts on various platforms regardless of whether the site owner uses those platforms.
  </action>
  <verify>
Run: `grep -E "justcarlson|justincarlson0" src/constants.ts` - should show GitHub and LinkedIn URLs
Run: `grep -E "steipete|peter" src/constants.ts` - should return nothing
  </verify>
  <done>SOCIALS array contains only GitHub (justcarlson) and LinkedIn (justincarlson0), no Peter references remain</done>
</task>

<task type="auto">
  <name>Task 3: Make newsletter form configurable</name>
  <files>src/components/NewsletterForm.astro</files>
  <action>
Add a NEWSLETTER_CONFIG to src/consts.ts first:

```typescript
// Newsletter configuration
export const NEWSLETTER_CONFIG = {
  enabled: false,  // Set to true when newsletter service is configured
  provider: "buttondown",  // or "convertkit", "mailchimp", etc.
  formAction: "",  // Will be set when service is configured
  tag: "",
};
```

Then update NewsletterForm.astro to use the config:

```astro
---
import { NEWSLETTER_CONFIG } from "@/consts";

export interface Props {
  variant?: "default" | "compact";
}

const { variant = "default" } = Astro.props;
const isEnabled = NEWSLETTER_CONFIG.enabled && NEWSLETTER_CONFIG.formAction;
---

{isEnabled ? (
  <div class={variant === 'default' ? 'newsletter-box bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-6 my-8' : 'newsletter-compact mt-6'}>
    {variant === 'default' && (
      <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
        New posts and updates straight to your inbox.
      </p>
    )}

    <form
      action={NEWSLETTER_CONFIG.formAction}
      method="post"
      target="_blank"
      class="flex flex-col sm:flex-row gap-3"
    >
      {NEWSLETTER_CONFIG.tag && (
        <input type="hidden" name="tag" value={NEWSLETTER_CONFIG.tag} />
      )}
      <input
        type="email"
        name="email"
        placeholder="Your Email"
        required
        class="flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent"
      />
      <button
        type="submit"
        class="px-6 py-2 bg-accent rounded-md hover:bg-accent/90 transition-colors font-medium whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2"
        style="color: white;"
      >
        Subscribe
      </button>
    </form>

    {variant === 'default' && (
      <p class="text-xs text-gray-500 dark:text-gray-400 mt-3">
        No spam, unsubscribe anytime.
      </p>
    )}
  </div>
) : null}

<style>
  @media (max-width: 640px) {
    .newsletter-box {
      margin-left: -1rem;
      margin-right: -1rem;
      border-radius: 0;
    }
  }
</style>
```

Key changes:
- Import NEWSLETTER_CONFIG from consts.ts
- Conditionally render based on enabled flag
- Remove hardcoded steipete Buttondown URL
- Remove name field (simplified)
- Update copy to be generic
- Form renders nothing when disabled (clean approach)
  </action>
  <verify>
Run: `grep -E "steipete|buttondown.com/api/emails/embed-subscribe/steipete" src/components/NewsletterForm.astro` - should return nothing
Run: `grep "NEWSLETTER_CONFIG" src/consts.ts src/components/NewsletterForm.astro` - should show config in both files
  </verify>
  <done>Newsletter form imports config from consts.ts, renders nothing when disabled, no hardcoded Peter/Buttondown references</done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Grep validation (no Peter references):
   ```bash
   grep -r -E "steipete|peter|steinberger" src/consts.ts src/constants.ts src/components/NewsletterForm.astro
   ```
   Expected: No matches

2. Config validation:
   ```bash
   grep -E "justcarlson|Just Carlson" src/consts.ts
   ```
   Expected: Multiple matches for website, author, editPost.url

3. Build check:
   ```bash
   npm run build
   ```
   Expected: Build succeeds without errors
</verification>

<success_criteria>
- [ ] src/consts.ts contains justcarlson.com website URL
- [ ] src/consts.ts contains "Just Carlson" as author
- [ ] src/consts.ts editPost.url points to justcarlson/justcarlson.com repo
- [ ] src/consts.ts SOCIAL_LINKS contains only GitHub and LinkedIn
- [ ] src/constants.ts SOCIALS array updated with justcarlson accounts
- [ ] src/components/NewsletterForm.astro uses NEWSLETTER_CONFIG
- [ ] No steipete/peter/steinberger references in modified files
- [ ] npm run build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
